---
title: SSO 構成の問題
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 01/17/2021
ms.audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "7760"
- "9004346"
ms.openlocfilehash: 5ab56ec1eda10ea059e600e8933ce85bb143b76e
ms.sourcegitcommit: 6d02eb533fd74199af6b20f714b3720991da2c4a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/18/2021
ms.locfileid: "49901723"
---
# <a name="sso-configuration-issues"></a><span data-ttu-id="b9a3f-102">SSO 構成の問題</span><span class="sxs-lookup"><span data-stu-id="b9a3f-102">SSO configuration issues</span></span>

1. <span data-ttu-id="b9a3f-103">「[クイックスタート: アプリケーションガイドのプロパティを構成する](https://docs.microsoft.com/azure/active-directory/manage-apps/add-application-portal-configure)」の手順に従って、アプリケーションを構成します。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-103">Follow the [Quickstart: Configure properties for an application](https://docs.microsoft.com/azure/active-directory/manage-apps/add-application-portal-configure) guide to configure your application.</span></span>
2. <span data-ttu-id="b9a3f-104">選択したアプリケーションと[シングル サインオン オプション](https://docs.microsoft.com/azure/active-directory/manage-apps/sso-options)に応じて、以下の適切なガイダンスに従ってください。 a.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-104">Depending on the application and [Single sign-on option](https://docs.microsoft.com/azure/active-directory/manage-apps/sso-options) that you chose, follow the appropriate guidance below: a.</span></span> <span data-ttu-id="b9a3f-105">**SAMLベースのシングルサインオン (SSO)** 用に **オンプレミス アプリケーション** を構成するには、「[アプリケーション プロキシ を使用したオンプレミスのアプリケーションに対する SAML シングル サインオン](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-single-sign-on-on-premises-apps)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-105">To configure an **on-premises application** for **SAML-based single sign-on (SSO)**, see [SAML single-sign-on for on-premises applications with Application Proxy](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-single-sign-on-on-premises-apps).</span></span>
    <span data-ttu-id="b9a3f-106">b.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-106">b.</span></span> <span data-ttu-id="b9a3f-107">**パスワードベースの SSO** 用に **クラウド アプリケーション** を構成するには、「[パスワード シングル サインオンの構成](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-password-single-sign-on-non-gallery-applications)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-107">To configure a **cloud application** for **password-based SSO**, see [Configure password single sign-on](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-password-single-sign-on-non-gallery-applications).</span></span>
    <span data-ttu-id="b9a3f-108">c.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-108">c.</span></span> <span data-ttu-id="b9a3f-109">**アプリケーション プロキシを使用したSSO** 用に **オンプレミス アプリケーション** を構成するには、「[Password vaulting for single sign-on with Application Proxy (アプリケーション プロキシを使用したシングル サインオン用のパスワード管理)](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-single-sign-on-password-vaulting)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-109">To configure an **on-premises application** for **SSO through Application Proxy**, see [Password vaulting for single sign-on with Application Proxy](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-single-sign-on-password-vaulting).</span></span>
3. <span data-ttu-id="b9a3f-110">**アプリケーション プロキシの問題のトラブルシューティング**: アプリケーション プロキシ コネクタが正しく設定されているかどうかを判断するために、トラブルシューティング フロー「[Debug Application Proxy Connector issues (アプリケーション プロキシ コネクタの問題のデバッグ)](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-debug-connectors)」の確認から始めることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-110">**Troubleshooting Application Proxy issues**: We recommend that you start with reviewing the troubleshooting flow - [Debug Application Proxy Connector issues](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-debug-connectors) - to determine if application proxy connectors are configured correctly.</span></span> <span data-ttu-id="b9a3f-111">依然としてアプリケーションへの接続に問題がある場合は、「[Debug Application Proxy application issues (アプリケーション プロキシ アプリケーションの問題のデバッグ)](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-debug-apps)」に記載されているトラブルシューティング手順に従ってください。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-111">If you're still having trouble connecting to the application, follow the troubleshooting steps in [Debug Application Proxy application issues](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-debug-apps).</span></span> <span data-ttu-id="b9a3f-112">以下のブラウザ デバッグ手順を実行し、[CORS の問題を特定](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-understand-cors-issues#understand-and-identify-cors-issues)できます。a.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-112">You can [identify CORS issues](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-understand-cors-issues#understand-and-identify-cors-issues) by performing the following browser debug steps: a.</span></span> <span data-ttu-id="b9a3f-113">ブラウザーを起動し、Web アプリを閲覧します。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-113">Launch the browser and browse to the web app.</span></span>
    <span data-ttu-id="b9a3f-114">b.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-114">b.</span></span> <span data-ttu-id="b9a3f-115">**F12 キー** を押して、デバッグ コンソールを起動します。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-115">Press **F12** to bring up the debug console.</span></span>
    <span data-ttu-id="b9a3f-116">c.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-116">c.</span></span> <span data-ttu-id="b9a3f-117">トランザクションを再現し、コンソールのメッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-117">Try to reproduce the transaction and review the console message.</span></span> <span data-ttu-id="b9a3f-118">CORS の違反により、オリジンに関するコンソール エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-118">A CORS violation produces a console error about origin.</span></span>
    <span data-ttu-id="b9a3f-119">d. </span><span class="sxs-lookup"><span data-stu-id="b9a3f-119">d.</span></span> <span data-ttu-id="b9a3f-120">アプリが認証のために login.microsoftonline.com にリダイレクトするときのアクセス トークンの有効期限など、一部の CORS の問題は解決できません。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-120">Some CORS issues can't be resolved, such as expiration of the access token when your app redirects to login.microsoftonline.com for authentication.</span></span> <span data-ttu-id="b9a3f-121">アクセス トークンの有効期限が切れた結果、CORS 呼び出しは失敗します。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-121">As a result of the access token expiration, the CORS call then fails.</span></span> <span data-ttu-id="b9a3f-122">ユーザーのセッション中にアクセス トークンの有効期限が切れないようにアクセス トークンの有効期限を延長することが、このシナリオの回避策です。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-122">A workaround for this scenario is to extend the lifetime of the access token, to prevent it from expiring during a user’s session.</span></span> <span data-ttu-id="b9a3f-123">これを行う方法の詳細については、「[Configurable token lifetimes in Microsoft identity platform (Microsoft ID プラットフォームで構成可能なトークンの有効期限)](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-123">For more information about how to do this, see [Configurable token lifetimes in Microsoft identity platform](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes).</span></span>
4. <span data-ttu-id="b9a3f-124">**SAML ベースの SSO のトラブルシューティング**: 「[SAML ベースのシングル サインオンで構成されたアプリへのサインインに関する問題](https://docs.microsoft.com/azure/active-directory/manage-apps/application-sign-in-problem-federated-sso-gallery)」をチェックして、発生する可能性が最も高い問題の解決策を見つけることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-124">**Troubleshooting SAML-based SSO**: We recommend checking [Problems signing in to SAML-based single sign-on configured apps](https://docs.microsoft.com/azure/active-directory/manage-apps/application-sign-in-problem-federated-sso-gallery) to find the solutions to the issues you are most likely to encounter.</span></span>
5. <span data-ttu-id="b9a3f-125">**パスワード ベースの SSO のトラブルシューティング**: 「[Azure AD でのパスワード ベースのシングル サインオンのトラブルシューティング](https://docs.microsoft.com/azure/active-directory/manage-apps/troubleshoot-password-based-sso)」をチェックして、発生する可能性が最も高い問題の解決策を見つけることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-125">**Troubleshooting password-based SSO**: We recommend checking [Troubleshoot password-based single sign-on in Azure AD](https://docs.microsoft.com/azure/active-directory/manage-apps/troubleshoot-password-based-sso) to find the solutions to the issues you are most likely to encounter.</span></span>
6. <span data-ttu-id="b9a3f-126">**構成エラーを受け取りました**: 構成エラーのトラブルシューティングを行うには、次の記事を確認することをお勧めします。a.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-126">**I received a configuration error**: To troubleshoot configuration errors, we recommend checking the following articles: a.</span></span> <span data-ttu-id="b9a3f-127">「[SAML ベースのシングル サインオンで構成されたアプリへのサインインに関する問題](https://docs.microsoft.com/azure/active-directory/manage-apps/application-sign-in-problem-federated-sso-gallery)」 b.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-127">[Problems signing in to SAML-based single sign-on configured apps](https://docs.microsoft.com/azure/active-directory/manage-apps/application-sign-in-problem-federated-sso-gallery) b.</span></span> <span data-ttu-id="b9a3f-128">「[資格情報を入力したが、拡張機能によって送信されない](https://docs.microsoft.com/azure/active-directory/manage-apps/troubleshoot-password-based-sso#credentials-are-filled-in-but-the-extension-does-not-submit-them)」 c.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-128">[Credentials are filled in, but the extension does not submit them](https://docs.microsoft.com/azure/active-directory/manage-apps/troubleshoot-password-based-sso#credentials-are-filled-in-but-the-extension-does-not-submit-them) c.</span></span> <span data-ttu-id="b9a3f-129">「[資格情報を入力して送信したが、ページには資格情報が正しくないと表示される](https://docs.microsoft.com/azure/active-directory/manage-apps/troubleshoot-password-based-sso)」d.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-129">[Credentials are filled in and submitted, but the page indicates the credentials are incorrect](https://docs.microsoft.com/azure/active-directory/manage-apps/troubleshoot-password-based-sso) d.</span></span> <span data-ttu-id="b9a3f-130">「[ユーザーのサインイン後、アプリのページでエラーが発生する](https://docs.microsoft.com/azure/active-directory/manage-apps/application-sign-in-problem-application-error)」</span><span class="sxs-lookup"><span data-stu-id="b9a3f-130">[An app page shows an error message after the user signs in](https://docs.microsoft.com/azure/active-directory/manage-apps/application-sign-in-problem-application-error)</span></span>
7. <span data-ttu-id="b9a3f-131">**シームレス SSO とオンプレミス アプリの統合に問題があります**: シームレス SSO とオンプレミス アプリの統合に関する問題のトラブルシューティングを行うには、次の記事を確認することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b9a3f-131">**I am having issues integrating Seamless SSO with my on-premises apps**: To troubleshoot issues regarding integration of Seamless SSO with on-premises apps, we recommend checking the following articles: a.</span></span> <span data-ttu-id="b9a3f-132">「[ アプリケーション プロキシ アプリケーションへのシングル サインオンの構成方法](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-config-sso-how-to)」b.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-132">[How to configure single sign-on to an Application Proxy application](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-config-sso-how-to) b.</span></span> <span data-ttu-id="b9a3f-133">「[アプリケーション プロキシを使用したオンプレミス アプリケーションの SAML シングル サインオン](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-single-sign-on-on-premises-apps)」c.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-133">[SAML single sign-on for on-premises applications with Application Proxy](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-single-sign-on-on-premises-apps) c.</span></span> <span data-ttu-id="b9a3f-134">「[Azure Active Directory アプリケーション プロキシの CORS の問題を理解し、解決する](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-understand-cors-issues#solutions-for-application-proxy-cors-issues)」d.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-134">[Understand and solve Azure Active Directory Application Proxy CORS issues](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-understand-cors-issues#solutions-for-application-proxy-cors-issues) d.</span></span> <span data-ttu-id="b9a3f-135">「[アプリケーション プロキシの Kerberos の制約付き委任構成のトラブルシューティング](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-back-end-kerberos-constrained-delegation-how-to)」</span><span class="sxs-lookup"><span data-stu-id="b9a3f-135">[Troubleshoot Kerberos constrained delegation configurations for Application Proxy](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-back-end-kerberos-constrained-delegation-how-to)</span></span>
8. <span data-ttu-id="b9a3f-136">**要求を修正するか、トークンの有効期間を延長する必要があります。 セッションの長さを変更する必要があります**: これを行うには、次の記事を確認することをお勧めします。a.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-136">**I need to fix the claims or extend the lifetime of a token. I need to change the length of a session**: To do this, we recommend checking the following articles: a.</span></span> <span data-ttu-id="b9a3f-137">「[アプリケーションに送信される SAML 要求をカスタマイズする](https://docs.microsoft.com/azure/active-directory/develop/active-directory-claims-mapping)」b.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-137">[Customize SAML claims sent to an application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-claims-mapping) b.</span></span> <span data-ttu-id="b9a3f-138">「[要求対応アプリの操作](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-for-claims-aware-applications)」c.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-138">[Working with claims-aware apps](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-for-claims-aware-applications) c.</span></span> <span data-ttu-id="b9a3f-139">「[Microsoft ID プラットフォームで構成可能なトークンの有効期間](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes)」d.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-139">[Configurable token lifetimes in Microsoft identity platform](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes) d.</span></span> <span data-ttu-id="b9a3f-140">「[条件付きアクセスを使用して認証セッション管理を構成する](https://docs.microsoft.com/azure/active-directory/conditional-access/howto-conditional-access-session-lifetime)」e.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-140">[Configure authentication session management with Conditional Access](https://docs.microsoft.com/azure/active-directory/conditional-access/howto-conditional-access-session-lifetime) e.</span></span> <span data-ttu-id="b9a3f-141">「[オンプレミスのアプリケーションにアクセスするための Cookie 設定](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-cookie-settings)」</span><span class="sxs-lookup"><span data-stu-id="b9a3f-141">[Cookie settings for accessing on-premises applications](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-cookie-settings)</span></span>
9. <span data-ttu-id="b9a3f-142">**ユーザーおよびゲスト ユーザー (B2B) のアクセスの管理についてサポートが必要です**: ユーザーおよびゲストユーザーのアクセスの管理の詳細については、次の記事を確認することをお勧めします。a.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-142">**I need help managing my user's and guest users' (B2B) access**: For detailed information on managing user's and guest user's access, we recommend checking the following articles: a.</span></span> <span data-ttu-id="b9a3f-143">「[アプリへのアクセスの管理](https://docs.microsoft.com/azure/active-directory/manage-apps/what-is-access-management)」b.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-143">[Managing access to apps](https://docs.microsoft.com/azure/active-directory/manage-apps/what-is-access-management) b.</span></span> <span data-ttu-id="b9a3f-144">「[Azure Active Directory のアプリに対するユーザー割り当ての管理](https://docs.microsoft.com/azure/active-directory/manage-apps/assign-user-or-group-access-portal)」c.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-144">[Manage user assignment for an app in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/manage-apps/assign-user-or-group-access-portal) c.</span></span> <span data-ttu-id="b9a3f-145">「[B2B コラボレーション用の SaaS アプリの構成](https://docs.microsoft.com/azure/active-directory/external-identities/configure-saas-apps)」d.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-145">[Configure SaaS apps for B2B collaboration](https://docs.microsoft.com/azure/active-directory/external-identities/configure-saas-apps) d.</span></span> <span data-ttu-id="b9a3f-146">「[Azure AD の B2B ユーザーにオンプレミスのアプリケーションへのアクセスを許可する](https://docs.microsoft.com/azure/active-directory/external-identities/configure-saas-apps)」e.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-146">[Grant B2B users in Azure AD access to your on-premises applications](https://docs.microsoft.com/azure/active-directory/external-identities/configure-saas-apps) e.</span></span> <span data-ttu-id="b9a3f-147">「[Azure AD B2B コラボレーションを使用して、ローカルで管理されているパートナー アカウントにクラウド リソースへのアクセスを許可する](https://docs.microsoft.com/azure/active-directory/external-identities/hybrid-on-premises-to-cloud)」</span><span class="sxs-lookup"><span data-stu-id="b9a3f-147">[Grant locally-managed partner accounts access to cloud resources using Azure AD B2B collaboration](https://docs.microsoft.com/azure/active-directory/external-identities/hybrid-on-premises-to-cloud)</span></span>
10. <span data-ttu-id="b9a3f-148">**アプリをカスタマイズしたい**: アプリのカスタマイズの詳細については、次の記事を確認することをお勧めします。a.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-148">**I want to customize my apps**: For detailed information on customizing apps, we recommend checking the following articles: a.</span></span> <span data-ttu-id="b9a3f-149">「[Azure AD アプリケーション プロキシでカスタム ドメインを構成する](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-custom-domain)」b.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-149">[Configure custom domains with Azure AD Application Proxy](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-custom-domain) b.</span></span> <span data-ttu-id="b9a3f-150">「[発行されたアプリのカスタム ホーム ページを設定する](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-custom-home-page)」c.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-150">[Set a custom home page for published apps](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-configure-custom-home-page) c.</span></span> <span data-ttu-id="b9a3f-151">「[ワイルドカード アプリケーション](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-wildcard)」</span><span class="sxs-lookup"><span data-stu-id="b9a3f-151">[Wildcard applications](https://docs.microsoft.com/azure/active-directory/manage-apps/application-proxy-wildcard)</span></span>
11. <span data-ttu-id="b9a3f-152">**AD FS から Azure へのアプリの移行で問題が発生しました**: AD FS から Azure へのアプリの移行中に発生した問題のトラブルシューティングを行うには、次の記事を確認することをお勧めします。a.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-152">**I'm having issues migrating my app from AD FS to Azure**: To troubleshoot issues encountered during migration of your app from AD FS to Azure, we recommend checking the following articles: a.</span></span> <span data-ttu-id="b9a3f-153">「[アプリケーション認証を Active Directory フェデレーション サービス (AD FS) から Azure Active Directory に移動する](https://docs.microsoft.com/azure/active-directory/manage-apps/migrate-adfs-apps-to-azure)」b.</span><span class="sxs-lookup"><span data-stu-id="b9a3f-153">[Moving application authentication from Active Directory Federation Services to Azure Active Directory](https://docs.microsoft.com/azure/active-directory/manage-apps/migrate-adfs-apps-to-azure) b.</span></span> <span data-ttu-id="b9a3f-154">「[アプリケーションを Azure Active Directory に移行するためのリソース](https://docs.microsoft.com/azure/active-directory/manage-apps/migration-resources)」</span><span class="sxs-lookup"><span data-stu-id="b9a3f-154">[Resources for migrating applications to Azure Active Directory](https://docs.microsoft.com/azure/active-directory/manage-apps/migration-resources)</span></span>

