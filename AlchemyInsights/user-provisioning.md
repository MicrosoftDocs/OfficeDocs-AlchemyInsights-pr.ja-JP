---
title: ユーザーのプロビジョニング
ms.author: v-jmathew
author: v-jmathew
manager: scotv
audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Normal
ms.collection: Adm_O365
ms.custom:
- "9004348"
- "8428"
ms.openlocfilehash: bd415b2d44bccf0c2b3eccb4e38452498b748b3a
ms.sourcegitcommit: 379e132c4d21ecf703d5506484ec96a767fdda39
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/04/2021
ms.locfileid: "50484064"
---
# <a name="user-provisioning"></a><span data-ttu-id="06874-102">ユーザーのプロビジョニング</span><span class="sxs-lookup"><span data-stu-id="06874-102">User provisioning</span></span>

- <span data-ttu-id="06874-103">[オンデマンド プロビジョニング](https://docs.microsoft.com/azure/active-directory/app-provisioning/provision-on-demand)機能を使用して、ユーザーをプロビジョニングし、実行された手順に関する詳細な診断を取得します。</span><span class="sxs-lookup"><span data-stu-id="06874-103">Use the [on-demand provisioning](https://docs.microsoft.com/azure/active-directory/app-provisioning/provision-on-demand) capability to provision a user and get detailed diagnostics about the steps taken.</span></span>
- <span data-ttu-id="06874-104">ユーザーとグループのプロビジョニング時に発生する問題のトラブルシューティングについては、トラブルシューティング ガイド「[プロビジョニングされているユーザーがありません](https://docs.microsoft.com/azure/active-directory/app-provisioning/application-provisioning-config-problem-no-users-provisioned)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="06874-104">To troubleshoot issues you encounter when provisioning users and groups, see the troubleshooting guide [No users are being provisioned](https://docs.microsoft.com/azure/active-directory/app-provisioning/application-provisioning-config-problem-no-users-provisioned).</span></span>
- <span data-ttu-id="06874-105">ユーザーがプロビジョニングされていないことに気付いた場合は、Azure Active Directory (AD) の「[プロビジョニング ログ (プレビュー)](https://docs.microsoft.com/azure/active-directory/reports-monitoring/concept-provisioning-logs)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="06874-105">If you observe that users are not being provisioned, see [Provisioning logs (preview)](https://docs.microsoft.com/azure/active-directory/reports-monitoring/concept-provisioning-logs) in Azure Active Directory (AD).</span></span> <span data-ttu-id="06874-106">特定のユーザーに関連するログ エントリを検索します。</span><span class="sxs-lookup"><span data-stu-id="06874-106">Search for log entries pertaining to a specific user.</span></span>
- <span data-ttu-id="06874-107">定期的にプロビジョニングを再開して、前のプロビジョニング サイクルで見落とされたユーザーをキャッチします。</span><span class="sxs-lookup"><span data-stu-id="06874-107">Periodically restart provisioning to catch any users that were missed in a previous provisioning cycle.</span></span>
- <span data-ttu-id="06874-108">当社のサービスにはまだユーザーを評価する機会がないため、ユーザー/グループがプロビジョニングされていない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="06874-108">The user/group may not have been provisioned because our service hasn't had a chance to evaluate the user yet.</span></span> <span data-ttu-id="06874-109">プロビジョニングに必要な時間と、プロビジョニング構成ページの進行状況バーを確認します。</span><span class="sxs-lookup"><span data-stu-id="06874-109">Review the guidance for how long provisioning takes as well as the progress bar on the provisioning configuration page.</span></span> <span data-ttu-id="06874-110">追加の詳細セクションで指定された一定の状態が、ユーザーが作成/更新/削除された日付より前の場合は、ユーザーがまだ評価されていないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="06874-110">If the steady state specified in the additional details section is before the date the user was created/updated/deleted, it means we have not evaluated the user yet.</span></span> <span data-ttu-id="06874-111">このシナリオでは、プロビジョニング サービスが終了するまで待つ必要があります。</span><span class="sxs-lookup"><span data-stu-id="06874-111">In this scenario, the best thing to do is wait for the provisioning service to finish.</span></span> <span data-ttu-id="06874-112">定常状態になっている場合は、Azure ポータルの UI から再起動することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="06874-112">If the steady state has been achieved, we recommend performing a restart from the UI in the Azure Portal.</span></span>
  - <span data-ttu-id="06874-113">私たちのサービスは、ソース システム (Azure Active Directory) のユーザー/グループへの変更のみを認識していることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="06874-113">Note that our service is only aware of changes to a user/group in the source system (Azure Active Directory).</span></span> <span data-ttu-id="06874-114">ユーザー/グループがアプリケーション (ServiceNow など) で直接削除された場合、それらの変更は認識されず、ソース システムのユーザーの状態に基づいてロールバックされません。</span><span class="sxs-lookup"><span data-stu-id="06874-114">If a user/group is removed directly in the application (for example, ServiceNow), we are not aware of those changes and do not roll it back based on the state of the user in the source system.</span></span> <span data-ttu-id="06874-115">このシナリオでは、ターゲット アプリケーションで変更を直接ロールバックするのが最善です。</span><span class="sxs-lookup"><span data-stu-id="06874-115">In this scenario, it is best to roll back the change directly in the target application.</span></span>
- <span data-ttu-id="06874-116">Microsoft のサービスはユーザー/グループを評価し、プロビジョニングすべきではないと判断しました。</span><span class="sxs-lookup"><span data-stu-id="06874-116">Our service evaluated the user/group and determined it should not be provisioned:</span></span>
  - <span data-ttu-id="06874-117">割り当てられたユーザーとグループにスコープを設定した場合は、ユーザー/グループがアプリケーションに割り当てられているかどうかを確認してください。</span><span class="sxs-lookup"><span data-stu-id="06874-117">If you have set the scope to assigned users and groups, check if the user/group is assigned to the application.</span></span>
  - <span data-ttu-id="06874-118">ユーザー/グループがアプリケーションに割り当てられている場合は、それらが既定のアクセス ロールに割り当てられていないことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="06874-118">If the user/group is assigned to the application, ensure that they are not assigned to the default access role.</span></span> <span data-ttu-id="06874-119">このロールはプロビジョニングには使用できません。</span><span class="sxs-lookup"><span data-stu-id="06874-119">This role cannot be used for provisioning.</span></span>
  - <span data-ttu-id="06874-120">属性ベースの範囲指定フィルターを設定した場合は、ユーザーが指定した条件を満たしていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="06874-120">If you have set an attribute based scoping filter, ensure that the user meets the criteria that you have specified.</span></span>
  - <span data-ttu-id="06874-121">ユーザーがターゲット システムに既に存在し、ソースとターゲットのユーザーの状態が一致する場合、それ以上アクションは実行されません。</span><span class="sxs-lookup"><span data-stu-id="06874-121">If users already exist in the target system and the state of the user in the source and target match, we won't take any further action.</span></span>
- <span data-ttu-id="06874-122">サービスはユーザーをプロビジョニングしようとしましたが、失敗しました。</span><span class="sxs-lookup"><span data-stu-id="06874-122">Our service attempted to provision the user and it failed.</span></span> <span data-ttu-id="06874-123">これらのシナリオについては、プロビジョニング ログのトラブルシューティングと推奨事項のタブを確認してください。</span><span class="sxs-lookup"><span data-stu-id="06874-123">For these scenarios, review the troubleshooting and recommendations tab of the provisioning logs:</span></span>
  - <span data-ttu-id="06874-124">ユーザーの必須属性が Azure Active Directory にないか、サードパーティ アプリケーションで必要な形式と一致しない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="06874-124">A required attribute on the user might be missing in Azure Active Directory or does not match the format required by the third party application.</span></span> <span data-ttu-id="06874-125">たとえば、ユーザーの Country 属性は、US である必要があるときに United States に設定される場合があります。</span><span class="sxs-lookup"><span data-stu-id="06874-125">For example, the Country attribute on a user might be set to United States when it should be US.</span></span>
  - <span data-ttu-id="06874-126">この属性は、ターゲット アプリケーションにまだ存在しない参照属性です。</span><span class="sxs-lookup"><span data-stu-id="06874-126">The attribute is a referential attribute that does not yet exist in the target application.</span></span> <span data-ttu-id="06874-127">参照属性は、グループのメンバーであるユーザーなど、別のオブジェクトを指す属性です。</span><span class="sxs-lookup"><span data-stu-id="06874-127">A referential attribute is an attribute that points to another object, for example, a user that is a member of a group.</span></span> <span data-ttu-id="06874-128">ユーザーの ID はグループのメンバー属性に含まれますが、それが指すユーザー オブジェクトがすでに存在する場合にのみ処理できます。</span><span class="sxs-lookup"><span data-stu-id="06874-128">The user's ID would be in the member attribute of the group, but can only be processed if the user object it points to already exists.</span></span>
